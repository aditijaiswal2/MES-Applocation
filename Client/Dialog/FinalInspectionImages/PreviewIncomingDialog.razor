 @using MES.Shared.Models.Rotors
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime
@inject ISnackbar Snackbar
@using MES.Shared.DTOs
@using Newtonsoft.Json
@using System.Text
@inject HttpClient HttpClient
@inject IDialogService DialogService
@using MES.Client.Utitlity

@using System.Text.Json;

@using MES.Client.Dialog.QRPrint

<MudDialog MaxWidth="MaxWidth.ExtraLarge" FullWidth="true">
    <DialogContent>

        <MudGrid>


            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Serial Number" @bind-Value="InspectionData.SerialNumber" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Module" @bind-Value="InspectionData.Module" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Customer" @bind-Value="InspectionData.Customer" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Location" @bind-Value="IncomingInspection.Location" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Inspected Date" @bind-Value="IncomingInspection.Received" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Inspected By" @bind-Value="IncomingInspection.Inspected" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Rotors Serial Number" @bind-Value="InspectionData.RotorsNumber" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Make" @bind-Value="IncomingInspection.Make" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Dia" @bind-Value="IncomingInspection.Dia" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Len" @bind-Value="IncomingInspection.Len" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Flts" @bind-Value="IncomingInspection.Fits" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Materials" @bind-Value="InspectionData.Materials" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Others" @bind-Value="IncomingInspection.Others" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Incoming Rotors Dia" @bind-Value="InspectionData.RotorsDia" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Rotor Style" @bind-Value="IncomingInspection.RotorStyle" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Type" @bind-Value="IncomingInspection.Type" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Removed" @bind-Value="IncomingInspection.BearingRemoved" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearings" @bind-Value="IncomingInspection.Bearing" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Seals" @bind-Value="IncomingInspection.BearingSeals" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Ceramic Seals" @bind-Value="IncomingInspection.CeramicSeals" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Journal Dia (Left)" @bind-Value="IncomingInspection.Left" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Journal Dia (Left Details)" @bind-Value="IncomingInspection.yLeft" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Journal Dia (Right)" @bind-Value="IncomingInspection.Right" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bearing Journal Dia (Right Details)" @bind-Value="IncomingInspection.yRight" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Basic Sharpening" @bind-Value="IncomingInspection.BasicSharpening" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Basic Sharpening Detail" @bind-Value="IncomingInspection.IfYBasicSharpening" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Wedgelock Alignment Marks Present" @bind-Value="IncomingInspection.WedgelockAlignmentMarks" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Aligned" @bind-Value="IncomingInspection.Aligned" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Center Grinding" @bind-Value="IncomingInspection.CenterGrinding" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Center Grinding Details" @bind-Value="IncomingInspection.IfYCenterGrinding" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Plastic Sleeves" @bind-Value="IncomingInspection.PlasticSleaves" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Bed Knife in Box" @bind-Value="IncomingInspection.BedKnife" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Welding" @bind-Value="IncomingInspection.Welding" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Welding Number" @bind-Value="IncomingInspection.WeldingNum" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Welding Comments" @bind-Value="IncomingInspection.Initials" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>



                <MudItem xs="12" md="3">
                    <MudTextField Label="Re-Profile" @bind-Value="IncomingInspection.ReProfile" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Replace Blades" @bind-Value="IncomingInspection.BoxReceivedWithSaddles" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="QTY" @bind-Value="IncomingInspection.ADDQTYdata" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Manual Labor" @bind-Value="IncomingInspection.ManualLabor" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Add QTY" @bind-Value="IncomingInspection.AddQty" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="3">
                    <MudTextField Label="Box Received with Saddles (Bottom)" @bind-Value="IncomingInspection.Bottom" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Box Received with Saddles (Top)" @bind-Value="IncomingInspection.Top" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="3">
                    <MudTextField Label="Saddle Part Number" @bind-Value="IncomingInspection.SaddlePartNumber" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>
                <MudItem xs="12" md="3">
                    <MudTextField Label="Rotor Categorize" @bind-Value="InspectionData.RotorCategorization" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

            <MudGrid Spacing="3">

                <MudItem xs="12" md="4">
                    <MudTextField Label="Component Type" @bind-Value="InspectionData.ComponentType" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="4">
                    <MudTextField Label="New Box Required" @bind-Value="IncomingInspection.NewBoxRequired" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

                <MudItem xs="12" md="4">
                    <MudTextField Label="New Box Required Number" @bind-Value="IncomingInspection.NewBoxRequiredBox" FullWidth="true" Variant="Variant.Outlined" ReadOnly />
                </MudItem>

            </MudGrid>

        </MudGrid>

    </DialogContent>

    <DialogActions>
        @*  <MudButton OnClick="PrintDialog" Color="Color.Primary">Print</MudButton>
        *@ <MudButton OnClick="CloseDialog" Color="Color.Primary">Close</MudButton>
    </DialogActions>
</MudDialog>


<style>


    .outlined-box .mud-text {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }


    .outlined-box {
        border-radius: 8px;
        padding: 16px;
    }


    #print-section {
        background-color: #2a2a2a; /* Dark section background */
        padding: 14px;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.6);
        color: #ffffff; /* White text */
    }

</style>



@code {

    [Parameter]
    public RotorGrindingData InspectionData { get; set; }

    [Parameter]
    public IncomingInspection IncomingInspection { get; set; }

    [CascadingParameter]
    MudDialogInstance MudDialog { get; set; }
    public QrDTO LocQR { get; set; }

    void CloseDialog()
    {
        MudDialog.Cancel();
    }

}
